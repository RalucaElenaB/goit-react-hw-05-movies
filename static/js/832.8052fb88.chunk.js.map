{"version":3,"file":"static/js/832.8052fb88.chunk.js","mappings":"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","sources":["common/Button/Button.jsx","pages/Movies/components/MovieForm/MovieForm.jsx","pages/Movies/ApiMovies.js","pages/Movies/Movies.jsx"],"sourcesContent":["import { NavLink, useLocation } from 'react-router-dom';\nimport './Button.module.css';\n\nconst Button = () => {\n  const location = useLocation();\n  const goBackPath = location.state?.from || '/movies';\n\n  return (\n    <div>\n      <NavLink\n        className=\"button\"\n        to={goBackPath}\n        state={{ from: location.pathname }}\n      >\n        Back\n      </NavLink>\n    </div>\n  );\n};\n\nexport default Button;\n","const MovieForm = ({ onSubmit, onChange, query }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <input\n        type=\"text\"\n        placeholder=\"movie search\"\n        value={query}\n        onChange={onChange}\n      />\n      <button aria-label=\"search\" type=\"submit\">\n        <span className=\"search\">Search</span>\n      </button>{' '}\n      {/* Search button */}\n    </form>\n  );\n};\n\nexport default MovieForm;\n","import axios from 'axios';\n\nconst SEARCH_PATH = 'search/movie';\nconst language = 'en-US';\n\nconst KEY_API = 'f69b218f7039aed7eae0062e90da9fdc';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst getSearch = async query => {\n  try {\n    const { data } = await axios.get(\n      `${SEARCH_PATH}?api_key=${KEY_API}&query=${query}&language=${language}&include_adult=false`\n    );\n    const searchMovies = data.results;\n    return searchMovies;\n  } catch (error) {\n    console.log('Something wrong with API', error.message);\n  }\n};\n\nexport { getSearch };\n","import MovieForm from 'pages/Movies/components/MovieForm/MovieForm';\nimport { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { getSearch } from 'pages/Movies/ApiMovies';\nimport { useLocation } from 'react-router-dom';\nimport Button from 'common/Button/Button';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams(); // Manages query parameter in URL\n  const location = useLocation();\n\n  useEffect(() => {\n    if (searchParams.get('query') !== null) {\n      const newQuery = searchParams.get('query');\n      const fetchSeachedMovies = async newQuery => {\n        const moviesResults = await getSearch(newQuery);\n        setMovies(moviesResults);\n      };\n      fetchSeachedMovies(newQuery);\n      resetForm();\n    }\n  }, [searchParams]);\n\n  const handleQueryChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return;\n    }\n    setSearchParams({ query: query });\n  };\n\n  const resetForm = () => {\n    setQuery('');\n  };\n\n  return (\n    <div className=\"movie-page\">\n      <Button />\n      <h1>Movie Search</h1>\n      <MovieForm\n        onSubmit={handleFormSubmit}\n        onChange={handleQueryChange}\n        query={query}\n      />\n      <ul>\n        {movies.map((movie, id) => (\n          <li key={id}>\n            <Link\n              to={`./${movie.id}`}\n              state={{ from: location.pathname + location.search }}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\n<Link to=\"/Home\">Back</Link>;\n\nexport default Movies;\n"],"names":["_location$state","location","useLocation","goBackPath","state","from","_jsx","children","NavLink","className","to","pathname","_ref","onSubmit","onChange","query","_jsxs","type","placeholder","value","axios","getSearch","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","searchMovies","_context","prev","next","concat","sent","results","abrupt","t0","console","log","message","stop","_x","apply","arguments","Link","_useState","useState","_useState2","_slicedToArray","setQuery","_useState3","_useState4","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","get","newQuery","fetchSeachedMovies","moviesResults","resetForm","Button","MovieForm","e","preventDefault","trim","currentTarget","toLowerCase","map","movie","id","search","title"],"sourceRoot":""}