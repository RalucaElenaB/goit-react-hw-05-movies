{"version":3,"file":"static/js/627.082022cc.chunk.js","mappings":"sPAGAA,EAAAA,EAAAA,SAAAA,QAAyB,gCAEzB,IACMC,EAAU,SAAAC,GACd,OAAO,IAAIC,SAAQ,SAACC,EAAGC,GACrBC,YAAW,WACTD,EAAO,IAAIE,MAAM,qBACnB,GAAGL,EACL,GACF,EAEMM,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAN,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAG0D,OAH1DF,EAAAC,KAAA,EAEVN,EAAiBZ,EAAQ,KACzBa,EAAoBd,EAAAA,EAAAA,IAAU,GAADqB,OAfjB,qBAekC,aAAAA,OAZxC,qCAY8DH,EAAAE,KAAA,EACnDjB,QAAQmB,KAAK,CAACR,EAAmBD,IAAiB,KAAD,EACtC,OADsCE,EAAAG,EAAAK,KAAhEP,EAAID,EAAJC,KACFC,EAAeD,EAAKQ,QAAON,EAAAO,OAAA,SAC1BR,GAAY,QAAAC,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAEnBS,QAAQC,IAAI,wCAAyCV,EAAAQ,GAAMG,SAAS,yBAAAX,EAAAY,OAAA,GAAAlB,EAAA,mBAEvE,kBAVgB,OAAAH,EAAAsB,MAAA,KAAAC,UAAA,K,0BCgCjB,EAtCa,WACX,IAAAC,GAAwCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7ChB,EAAYkB,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,GAAWC,EAAAA,EAAAA,MACjBC,GAA8BN,EAAAA,EAAAA,WAAS,GAAMO,GAAAL,EAAAA,EAAAA,GAAAI,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAgB1B,OAdAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQ,SAAA3C,GAAY,OACxB,IAAIC,SAAQ,SAAA2C,GAAO,OAAIxC,WAAWwC,EAAS5C,EAAa,GAAE,EACtD6C,EAAW,eAAAtC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAoC,EAAA,OAAArC,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACD,OAAjBuB,GAAW,GAAMzB,EAAAE,KAAA,EACXyB,EAAM,KAAM,KAAD,SAAA3B,EAAAE,KAAA,EACIZ,IAAc,KAAD,EAA5BwC,EAAM9B,EAAAK,KACZc,EAAgBW,GAAQ,wBAAA9B,EAAAY,OAAA,GAAAlB,EAAA,KACzB,kBALgB,OAAAH,EAAAsB,MAAA,KAAAC,UAAA,KAOjBe,IACAJ,GAAW,EACb,GAAG,KAGDM,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGT,IAAWU,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACnBD,EAAAA,EAAAA,KAAA,MAAAD,SACGlC,EAAaqC,KAAI,SAACC,EAAOC,GAAE,OAC1BJ,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CACHC,GAAE,YAAArC,OAAckC,EAAMC,IACtBG,MAAO,CAAEC,KAAMtB,EAASuB,SAAWvB,EAASwB,QAASX,SAEpDI,EAAMQ,SALFP,EAOJ,QAKf,C","sources":["pages/Home/ApiHome.js","pages/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst TRENDING_PATH = 'trending/movie/day';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst KEY_API = 'f69b218f7039aed7eae0062e90da9fdc';\nconst timeout = milliseconds => {\n  return new Promise((_, reject) => {\n    setTimeout(() => {\n      reject(new Error('Request timed out'));\n    }, milliseconds);\n  });\n};\n\nconst getTrending = async () => {\n  try {\n    const timeoutPromise = timeout(5000); // Timeout de 5 secunde\n    const apiRequestPromise = axios.get(`${TRENDING_PATH}?api_key=${KEY_API}`);\n    const { data } = await Promise.race([apiRequestPromise, timeoutPromise]);\n    const trendingData = data.results;\n    return trendingData;\n  } catch (error) {\n    console.log('Something went wrong with API request', error.message);\n  }\n};\n\nexport { getTrending };\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { getTrending } from './ApiHome';\nimport { Link } from 'react-router-dom';\nimport Loader from 'common/Loader/Loader';\n\nimport './Home.module.css';\n\nconst Home = () => {\n  const [trendingData, setTrendingData] = useState([]);\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const delay = milliseconds =>\n      new Promise(resolve => setTimeout(resolve, milliseconds));\n    const fecthMovies = async () => {\n      setLoading(true);\n      await delay(1000);\n      const movies = await getTrending();\n      setTrendingData(movies);\n    };\n\n    fecthMovies();\n    setLoading(false);\n  }, []);\n\n  return (\n    <>\n      {loading && <Loader />}\n      <ul>\n        {trendingData.map((movie, id) => (\n          <li key={id}>\n            <Link\n              to={`./movies/${movie.id}`}\n              state={{ from: location.pathname + location.search }}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Home;\n"],"names":["axios","timeout","milliseconds","Promise","_","reject","setTimeout","Error","getTrending","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","timeoutPromise","apiRequestPromise","_yield$Promise$race","data","trendingData","_context","prev","next","concat","race","sent","results","abrupt","t0","console","log","message","stop","apply","arguments","_useState","useState","_useState2","_slicedToArray","setTrendingData","location","useLocation","_useState3","_useState4","loading","setLoading","useEffect","delay","resolve","fecthMovies","movies","_jsxs","_Fragment","children","_jsx","Loader","map","movie","id","Link","to","state","from","pathname","search","title"],"sourceRoot":""}